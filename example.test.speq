import: [ 
  example.speq: api,
  example.env.speq: env, 
  example.py: exampleScript, 
  example2.py: exampleScript2, 
  example.csv: exampleData
] # Supports .speq, .json, .csv, .xml, .py, .ts

summary: 
  name: Primary Tests
  pretty-name: Test A

example-suite-a:
  example-case-a:
    - virtualize:
        id: virtualize-a
        pretty-name: /admin Virt 
        description: Virtualizes API /admin endpoint so we can use it in tests without server.
        api: {{api}}
        operation: post
        resource: /admin
        environment: $env
        messages:
        - data: $data
          metadata: 
            key: 201
            value: Created
            type: status-code

    - data: $this.virtualize-a

    - connect: 
      - api: $api
      - resource: grpc/HelloService/HelloRequest
      - data:
          firstName: $data.first
          lastName: $data.last
          city: $data.city
      - environment: $env
      - loop: true
      - assertions:
          - contract
          - parameters:
              headers:
                http-status: [200, 202]
          - script: exampleScript

    - script:
      - run: $exampleScript2